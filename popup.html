<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grok Video Batch Processor</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ü§ñ Grok Automator v2.9.8</h1>
      <p class="subtitle">Processamento em lote de imagens para v√≠deos</p>
      <p class="credits">desenvolvido por <a href="https://x.com/elazul" target="_blank">@elazul</a></p>
    </header>

    <div class="support-banner">
      <p class="support-text">‚òï Eu consegui te ajudar? Ent√£o me deixe um caf√©zinho.</p>
      <a href="https://livepix.gg/elazul" target="_blank" class="support-link">Acesse: livepix.gg/elazul</a>
    </div>

    <div class="upload-section">
      <div id="dropZone" class="drop-zone">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
        <p>Arraste imagens aqui ou clique para selecionar</p>
        <p class="hint">Suporta m√∫ltiplas imagens (JPG, PNG, GIF, WebP)</p>
      </div>
      <input type="file" id="fileInput" accept="image/*" multiple hidden>
    </div>

    <div id="imageList" class="image-list"></div>

    <div class="options-section">
      <div class="options-header">
        <h3>‚öôÔ∏è Configura√ß√µes</h3>
        <div class="config-buttons">
          <button id="saveConfigBtn" class="btn-small btn-save" title="Salvar configura√ß√µes">üíæ Salvar</button>
          <button id="clearConfigBtn" class="btn-small btn-clear" title="Limpar configura√ß√µes salvas">üóëÔ∏è Limpar</button>
        </div>
      </div>

      <div class="option-group">
        <label class="checkbox-label">
          <input type="checkbox" id="usePromptsCheckbox">
          <span>‚úèÔ∏è Usar prompts customizados</span>
        </label>
        <div id="promptsContainer" class="prompts-container" style="display: none;">
          <div class="prompts-upload">
            <button id="uploadPromptsBtn" class="btn-upload" title="Carregar prompts de arquivo .txt">
              üìÑ Carregar .txt
            </button>
            <input type="file" id="promptsFileInput" accept=".txt" hidden>
          </div>
          <textarea 
            id="promptsTextarea" 
            placeholder="Digite um prompt por linha (associado a cada imagem na ordem)&#10;Ou um √∫nico prompt para todas as imagens&#10;&#10;Ou clique em 'Carregar .txt' acima para importar"
            rows="4"
          ></textarea>
          <p class="hint">üí° Um prompt por linha = um prompt por imagem | Um prompt apenas = aplica a todas</p>
        </div>
      </div>

      <div class="option-group">
        <label class="checkbox-label">
          <input type="checkbox" id="usePauseCheckbox">
          <span>‚è∏Ô∏è Pausar periodicamente</span>
        </label>
        <div id="pauseContainer" class="pause-container" style="display: none;">
          <div class="pause-inputs">
            <div class="input-group">
              <label>A cada</label>
              <input type="number" id="pauseEveryInput" min="1" value="5"> v√≠deos
            </div>
            <div class="input-group">
              <label>Pausar por</label>
              <input type="number" id="pauseDurationInput" min="1" value="30"> segundos
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="progress-section" id="progressSection" style="display: none;">
      <div class="progress-info">
        <span id="progressText">Processando...</span>
        <span id="progressCount">0/0</span>
      </div>
      <div class="progress-bar">
        <div id="progressFill" class="progress-fill"></div>
      </div>
      <div id="statusText" class="status-text"></div>
    </div>

    <div class="controls">
      <button id="startBtn" class="btn btn-primary" disabled>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
        Iniciar Processamento
      </button>
      <button id="pauseBtn" class="btn btn-secondary" style="display: none;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <rect x="6" y="4" width="4" height="16"></rect>
          <rect x="14" y="4" width="4" height="16"></rect>
        </svg>
        Pausar
      </button>
      <button id="cancelBtn" class="btn btn-danger" style="display: none;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="15" y1="9" x2="9" y2="15"></line>
          <line x1="9" y1="9" x2="15" y2="15"></line>
        </svg>
        Cancelar
      </button>
      <button id="clearBtn" class="btn btn-secondary">Limpar Tudo</button>
    </div>

    <div class="dashboard" id="dashboard" style="display: none;">
      <div class="dashboard-header">
        <h3>üìä Relat√≥rio de Processamento</h3>
        <button id="downloadReportBtn" class="btn btn-secondary btn-sm">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
          Baixar Relat√≥rio Completo
        </button>
      </div>
      
      <div class="dashboard-grid">
        <div class="dashboard-card">
          <div class="card-icon">üì∏</div>
          <div class="card-content">
            <div class="card-value" id="totalImages">0</div>
            <div class="card-label">Imagens Adicionadas</div>
          </div>
        </div>
        
        <div class="dashboard-card">
          <div class="card-icon">üé¨</div>
          <div class="card-content">
            <div class="card-value" id="videosGenerated">0</div>
            <div class="card-label">V√≠deos Gerados</div>
          </div>
        </div>
        
        <div class="dashboard-card">
          <div class="card-icon">‚úÖ</div>
          <div class="card-content">
            <div class="card-value" id="completedCount">0</div>
            <div class="card-label">Conclu√≠dos</div>
          </div>
        </div>
        
        <div class="dashboard-card">
          <div class="card-icon">‚ùå</div>
          <div class="card-content">
            <div class="card-value" id="failedCount">0</div>
            <div class="card-label">Falhas</div>
          </div>
        </div>
        
        <div class="dashboard-card">
          <div class="card-icon">‚è±Ô∏è</div>
          <div class="card-content">
            <div class="card-value" id="totalTime">--:--</div>
            <div class="card-label">Tempo Total</div>
          </div>
        </div>
        
        <div class="dashboard-card">
          <div class="card-icon">üìà</div>
          <div class="card-content">
            <div class="card-value" id="successRate">0%</div>
            <div class="card-label">Taxa de Sucesso</div>
          </div>
        </div>
        
        <div class="dashboard-card">
          <div class="card-icon">‚ö°</div>
          <div class="card-content">
            <div class="card-value" id="avgTime">--:--</div>
            <div class="card-label">Tempo M√©dio/V√≠deo</div>
          </div>
        </div>
        
        <div class="dashboard-card">
          <div class="card-icon">üîÑ</div>
          <div class="card-content">
            <div class="card-value" id="currentStatus">Aguardando</div>
            <div class="card-label">Status Atual</div>
          </div>
        </div>
      </div>
      
      <div class="success-message" id="successMessage" style="display: none;">
        <div class="success-icon">üéâ</div>
        <div class="success-text">
          <h4>Processamento Conclu√≠do com Sucesso!</h4>
          <p>Todos os v√≠deos foram processados e baixados.</p>
        </div>
      </div>
    </div>
  </div>
  <script src="db.js"></script>
  <script src="popup.js"></script>
</body>
</html>
